# Assimp
## 目錄
1. [Assimp](#Assimp)
2. [模型載入庫](#模型載入庫)
3. [構建Assimp](#構建Assimp)






## Assimp
- **模型導入需求：**
  - 到目前為止，我們在場景中一直使用簡單的箱子模型，但實際圖形程式中，通常會使用複雜的模型，如房子、汽車或人形角色。
  - 這些複雜模型的頂點、法線、紋理座標等數據無法手動定義，需要從外部導入。

- **3D建模工具：**
  - 3D建模工具如 Blender、3DS Max、Maya 等，讓藝術家能夠創造複雜的模型。
  - 這些工具能生成 UV 映射並應用貼圖，在匯出時自動生成所有頂點座標、法線、紋理座標等數據。
  - 模型匯出後，圖形開發者需解析這些數據並轉換為 OpenGL 能理解的格式。

- **模型文件格式：**
  - 存在多種模型文件格式，每種格式以不同方式存儲模型數據。
  - 例如，Wavefront 的 .obj 文件格式只包含模型數據和材質信息（如顏色和漫反射/鏡面光貼圖）。
  - 另一種格式 Collada（基於 XML）更豐富，包含模型、光線、材質、動畫、攝影機、完整場景等多種數據。




## 模型載入庫
- **Assimp 庫介紹：**
  - Assimp 是 Open Asset Import Library 的縮寫，是一個流行的模型導入庫。
  - 它能夠匯入多種不同的模型檔案格式，並將模型資料載入到 Assimp 的通用資料結構中。
  - Assimp 的資料結構保持不變，無論導入何種格式的模型，都能以相同方式存取資料。

- **場景與節點結構：**
  - 使用 Assimp 導入模型時，整個模型會被載入為一個場景（Scene）對象。
  - 場景包含一系列節點（Node），每個節點包含場景中物件的資料索引。
  - 節點可以有任意數量的子節點，形成層次結構。
  - Scene 物件中包含了所有場景/模型資料，並引用了場景的根節點（Root Node）。
  - 根節點可能包含指向場景中網格數組的索引，mMeshes 數組儲存了真正的 Mesh 對象。

- **Mesh 結構：**
  - Mesh 物件包含渲染所需的所有相關數據，如頂點位置、法向量、紋理座標、面（Face）和物件的材質。
  - Mesh 包含多個面（Face），每個面代表渲染圖元（如三角形、方形、點）。
  - 面包含組成圖元的頂點索引，頂點和索引分開存儲，使用索引緩衝來渲染。
  - Mesh 也包含一個 Material 對象，用來取得物體的材質屬性，如顏色和紋理貼圖（如漫反射和鏡面光貼圖）。

- **模型載入流程：**
  - 首先將物體載入到 Scene 物件中。
  - 遍歷節點，取得對應的 Mesh 物件，遞歸搜尋每個節點的子節點。
  - 處理每個 Mesh 物件，取得頂點資料、索引及材質屬性。
  - 最終結果是包含一系列網格數據的 Model 物件。

- **網格（Mesh）：**
  - 藝術家建模時通常不會用單一形狀創建整個模型，而是由多個子模型/形狀組合而成。
  - 每個單獨的形狀稱為網格（Mesh），如人形角色的頭部、四肢、衣服、武器等都可作為單獨的網格。
  - 網格是 OpenGL 中繪製物體的最小單位，包含頂點資料、索引和材質屬性。
  - 一個模型通常包含多個網格。



